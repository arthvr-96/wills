function t_submenublocks__highlightActiveLinks(e){var t=window.location.href,o=window.location.pathname,n=window.location.hash;"/"===o[o.length-1]&&(o=o.slice(0,-1)),"/"===o[0]&&(o=o.slice(1)),""===o&&(o="/");e=document.querySelectorAll(e);(e=Array.prototype.filter.call(e,function(e){e=e.getAttribute("href");return"/"===e[0]&&1<e.length&&(e=e.slice(1)),"/"===e[e.length-1]&&1<e.length&&(e=e.slice(0,-1)),e&&(e===t||e===n||e===o)})).forEach(function(e){e.classList.add("t-active")})}function t_submenublocks__addEventsDesktop(o,e,n,l){var s,t;window.isMobile||"ontouchend"in document||(t=e.filter(function(e){return e!==o}),o.addEventListener("mouseleave",function(){t.forEach(function(e){e=e.closest(".t-menusub__menu");e&&t_triggerEvent(e,"submenu:mouseleave")}),s=setTimeout(function(){t_submenublocks__hideSubmenu(o,l)},300)}),o.addEventListener("mouseenter",function(){t.forEach(function(e){e=e.closest(".t-menusub__menu");e&&t_triggerEvent(e,"submenu:mouseenter")}),s&&clearTimeout(s)}),t.forEach(function(t){t.addEventListener("mouseenter",function(){var e=o.classList.contains(l.slice(1)+"__tooltip-menu_show");s&&clearTimeout(s),e||t_submenublocks__showSubmenu(t,o,n,l)}),t.addEventListener("mouseleave",function(){s=setTimeout(function(){t_submenublocks__hideSubmenu(o,l)},300)})}))}function t_submenublocks__addEventsMobile(e,t,o,l){t.forEach(function(e){e.removeEventListener("click",t_submenublocks__setMobileClick),e.addEventListener("click",t_submenublocks__setMobileClick)}),window.addEventListener("resize",t_throttle(function(){var e=document.querySelectorAll(l.slice(1)+"__tooltip-menu_mobile");Array.prototype.forEach.call(e,function(e){t_submenublocks__hideSubmenu(e,l)})},300)),document.addEventListener("click",function(o){var n,e;o.isTrusted&&(n=o.target.closest(l+"__tm-link"),e=document.querySelectorAll(l+"__tooltip-menu"),Array.prototype.forEach.call(e,function(e){var t=e.classList.contains(l.slice(1)+"__tooltip-menu_show");!o.target.closest(l+"__tooltip-menu")&&!n&&e&&t&&t_submenublocks__hideSubmenu(e,l)}))})}function t_submenublocks__setMobileClick(e){e.preventDefault();var t,o=e.target.closest("a"),n=document.querySelector('[data-tooltip-hook="'+o.getAttribute("href")+'"]'),l=["t978","t794","t966"],s=(l=(l=l.map(function(e){if(n.classList.value&&-1!==n.classList.value.indexOf(e))return e})).filter(function(e){return e}))[0],u=n.querySelector("."+s+"__tooltip-menu"),i=n.getAttribute("data-tooltip-margin");if(u.closest(".t-submenu_fullscreen"))t_submenublocks__openFullScreenSubmenu(o,u);else{var c,r=u.classList.contains(s+"__tooltip-menu_show");if((window.isMobile||"ontouchend"in document)&&980<window.innerWidth||!window.isMobile&&!("ontouchend"in document)&&window.innerWidth<980)return e.target&&(e.target.classList.contains("t978__menu-link")||e.target.closest(".t978__menu-link")||e.target.closest(".t794__link")||e.target.closest(".t966__menu-link"))?void 0:(r?t_submenublocks__hideSubmenu(u,"."+s):t_submenublocks__showSubmenu(o,u,i,"."+s),void window.addEventListener("orientationchange",t_throttle(function(){t_submenublocks__hideSubmenu(u,"."+s)},300)));o.classList.contains("t-menu__link-item")?(l=o.nextElementSibling,r||l&&l.classList.contains(s+"__tooltip-menu_mobile")?t_submenublocks__hideSubmenu(l,"."+s,o):((c=u.cloneNode(!0)).classList.add(s+"__tooltip-menu_mobile"),t_submenublocks__showSubmenu(o,c,i,"."+s),t=c.querySelectorAll('a[href*="#"]:not(.t978__menu-link_hook)'),Array.prototype.forEach.call(t,function(t){t.addEventListener("click",function(){t_submenublocks__hideSubmenu(c,"."+s);var e=document.createEvent("Event");e.initEvent("clickedAnchorInTooltipMenu",!0,!0),t.dispatchEvent(e)})}))):((e=e.target.closest(".t975__menu-link")||t_submenublocks__getZeroBottomMenu(e.target))&&(e.classList.contains(s+"__tm-link_active")||Array.prototype.forEach.call(document.querySelectorAll("."+s+"__tooltip-menu_show"),function(e){t_submenublocks__hideSubmenu(e,"."+s)})),"yes"===u.getAttribute("data-mobiletooltip")&&r?t_submenublocks__hideSubmenu(u,"."+s):t_submenublocks__showSubmenu(o,u,i,"."+s),t=u.querySelectorAll('a[href*="#"]:not(.t978__menu-link_hook)'),Array.prototype.forEach.call(t,function(t){t.addEventListener("click",function(){t_submenublocks__hideSubmenu(u,"."+s);var e=document.createEvent("Event");e.initEvent("clickedAnchorInTooltipMenu",!0,!0),t.dispatchEvent(e)})}))}}function t_submenublocks__showSubmenu(e,t,o,n){if(t){var l=e.closest(".tn-atom"),s=e.closest("[data-menu]"),s=s&&"fixed"===window.getComputedStyle(s).position;if(t.setAttribute("data-pos-fixed",s?"yes":"no"),s||(t.style.position=""),window.innerWidth<980&&(window.isMobile||"ontouchend"in document&&/Macintosh/.test(navigator.userAgent))&&e){if(e.classList.contains("t-menu__link-item"))return e.insertAdjacentElement("afterend",t),t.style.position="static",t.style.opacity="1",t_submenublocks__slideDown(t,300,function(){var e=document.createEvent("Event");e.initEvent("menuOverflow",!0,!0),t.dispatchEvent(e);e=document.createEvent("Event");e.initEvent("submenuShow",!0,!0),t.dispatchEvent(e)}),t.classList.add(n.slice(1)+"__tooltip-menu_show"),e&&e.classList.add(n.slice(1)+"__tm-link_active"),"y"===window.lazy&&t_lazyload_update(),void(l&&(t.style.position="absolute",t.style.width="calc(100vw - 20px)",t.style.right="10px",t.style.left="10px"));t.setAttribute("data-mobiletooltip","yes")}t_submenublocks__calcSubmenuX(e,t,n),t_submenublocks__calcSubmenuY(e,t,o,n),t.style.display="none"===t.style.display?"":"block",t.classList.add(n.slice(1)+"__tooltip-menu_show"),e&&e.classList.add(n.slice(1)+"__tm-link_active");o=document.createEvent("Event");o.initEvent("submenuShow",!0,!0),t.dispatchEvent(o);o=t.querySelector(n+"__menu, "+n+"__content"),e=e.closest(".t975__menu-link")||t_submenublocks__getZeroBottomMenu(e);t_submenublocks__processSubmenuHeight(t,o,n,"open",e),"y"===window.lazy&&t_lazyload_update()}}function t_submenublocks__calcSubmenuX(e,t,o){var n=window.innerWidth,l=".t978"===o,s=e.closest(".t975__menu-link")||t_submenublocks__getZeroBottomMenu(e);l&&(r=t.querySelector(".t978__menu"),b=t.querySelector(".t978__innermenu")),t.style.display="block";var u,i=(r||t).offsetWidth;l&&(b.style.display="block",u=b.offsetWidth,b.style.display=""),t.style.display="";Math.ceil(i+20)>n&&(i=n-20,t.style.maxWidth=i+"px");var c,r,a=e.classList.contains("t-btn")?e.offsetWidth:t_submenublocks__getValueWithoutPadding(e,"width"),_=e.getBoundingClientRect().left+window.pageXOffset,d=_+a/2,m=d,l=e.querySelector(o+"__arrow")?12:0,b="left";e.closest(".t396__artboard")&&(e=t_submenublocks__getScaleFactor(e),"function"==typeof t396_isOnlyScalableBrowser&&t396_isOnlyScalableBrowser()||(_*=e),m=d=_+(a*=e)/2),m+i/2<n?(m-=i/2)<0&&(m=10):(m=10,b="right"),r&&!s&&(n<m+i+u&&"right"!==b&&(b="right",m=n-m-i),"right"===b&&(r.style.order="1")),r=i/2-10,("left"===b?(c=m)+i/2:(c=n-m-i,n-(m+i/2)))!==d&&(r=c<_?s&&"left"===b?d-m+10:"left"==b?d-m-10:n-d-m-10:a/2-10-l),t.style[b]=m+"px";m=t.querySelector(o+"__tooltip-menu-corner"),o=t.querySelector(o+"__tooltip-menu-corner-border");m&&(m.style.left="auto",m.style.right="auto",m.style[b]=r+"px"),o&&(o.style.left="auto",o.style.right="auto",o.style[b]=r+"px")}function t_submenublocks__getScaleFactor(e){if(!e)return 1;var t=e.closest(".t396__artboard");if(!t)return 1;e=t.getAttribute("data-artboard-recid");return t.classList.contains("t396__artboard_scale")&&(e&&window.tn["ab"+e]&&window.tn["ab"+e].scaleFactor||window.tn_scale_factor)||1}function t_submenublocks__calcSubmenuY(e,t,o,n){t.style.display="block";var l,s=t.offsetHeight;t.style.display="";var u=window.pageYOffset,i=t_submenublocks__getValueWithoutPadding(e,"height"),c=e?e.getBoundingClientRect().top:0;window.isSafari&&(!(_=e.closest(".tn-elem"))||"1"!==(d=window.getComputedStyle(_).zoom)&&(_.style.zoom="1",c=e?e.getBoundingClientRect().top:0,_.style.zoom=d));o=o?parseInt(o,10)+10:25;var r=e.closest(".t396__artboard"),a=e.closest(".t396"),_=e.closest('[data-record-type="396"]');(r&&"fixed"===window.getComputedStyle(r).position||a&&"fixed"===window.getComputedStyle(a).position||_&&"fixed"===window.getComputedStyle(_).position)&&t.setAttribute("data-pos-fixed","yes");var d="function"==typeof t396_isOnlyScalableBrowser&&t396_isOnlyScalableBrowser(),a=t_submenublocks__getScaleFactor(e);r&&!d&&(c*=a),"yes"===t.getAttribute("data-pos-fixed")?(l=c+i+o,t.style.position="fixed"):l=c+u+i+o;_=t.querySelector(n+"__tooltip-menu-corner"),c=t.querySelector(n+"__tooltip-menu-corner-border");l+s>u+window.innerHeight&&s<=l&&s<l-u?(l=Math.max(l-s-i-2*o,u),_&&(_.classList.remove(n.slice(1)+"__tooltip-menu-corner_bottom"),_.classList.add(n.slice(1)+"__tooltip-menu-corner_top")),c&&(c.classList.remove(n.slice(1)+"__tooltip-menu-corner-border_bottom"),c.classList.add(n.slice(1)+"__tooltip-menu-corner-border_top"))):(_&&(_.classList.remove(n.slice(1)+"__tooltip-menu-corner_top"),_.classList.add(n.slice(1)+"__tooltip-menu-corner_bottom")),c&&(c.classList.remove(n.slice(1)+"__tooltip-menu-corner-border_top"),c.classList.add(n.slice(1)+"__tooltip-menu-corner-border_bottom"))),t.style.top=l+"px";o=t_submenublocks__getZeroBottomMenu(e);o||(t.style.bottom="");u=e.closest(".t975__wrapper")||o;u&&(t.style.top="",l=u.offsetHeight+25,e=e.closest(".t396__elem"),o&&e&&(e=parseInt(e.style.top,10)||0,r&&!d&&(e*=a),l-=e),t.style.bottom=l+"px",c&&c.classList.add(n.slice(1)+"__tooltip-menu-corner-border_top"),c&&c.classList.remove(n.slice(1)+"__tooltip-menu-corner-border_bottom"),_&&_.classList.add(n.slice(1)+"__tooltip-menu-corner_top"),_&&_.classList.remove(n.slice(1)+"__tooltip-menu-corner_bottom"))}function t_submenublocks__processSubmenuHeight(e,t,o,n,l){var s;t&&((s=window.innerWidth<=980)&&".t978"===o&&(t=e.querySelector(".t978__content")),t.style.height="",o="fixed"===e.style.position,"close"===n||s&&!o?t.style.overflowY="":(o=e.getBoundingClientRect(),e=s?document.documentElement.clientHeight:window.innerHeight,o.bottom<e&&0<o.top||(s=e-40,s-=l?e-o.bottom:0<o.top?o.top:o.bottom,t.style.height=s+"px",t.style.overflowY="scroll")))}function t_submenublocks__getZeroBottomMenu(e){e=e?e.closest(".t396__artboard"):null;return e&&"function"==typeof window.t396_ab__getFieldValue&&"fixed"===t396_ab__getFieldValue(e,"pos")&&"bottom"===t396_ab__getFieldValue(e,"fixed-pos")?e:null}function t_submenublocks__hideSubmenu(t,o){var e,n,l;t&&!t.closest(".t-submenu_fullscreen")&&(n=".t978"===o,"yes"===t.getAttribute("data-mobiletooltip")&&t.setAttribute("data-mobiletooltip",""),t.classList.contains(o.slice(1)+"__tooltip-menu_mobile")?t_submenublocks__slideUp(t,300,function(){t_submenublocks__removeEl(t);var e=document.createEvent("Event");e.initEvent("menuOverflow",!0,!0),t.dispatchEvent(e);e=document.createEvent("Event");e.initEvent("submenuHide",!0,!0),t.dispatchEvent(e)}):(e=t?t.querySelector(o.slice(1)+"__content"):null,t.style.display="",t.style.left="",t.style.right="",t.style.top="",t.style.width="",e&&(e.style.overflowY="",e.style.height=""),n&&(e=t.querySelector(o+"__menu"),n=t.querySelector(o+"__tooltip-menu-corner"),l=t.querySelector(o+"__tooltip-menu-corner-border"),e&&(e.style.order=""),n&&(n.style.left="",n.style.right=""),l&&(l.style.left="",l.style.right="")),t.classList.remove(o.slice(1)+"__tooltip-menu_show"),(l=document.createEvent("Event")).initEvent("submenuHide",!0,!0),t.dispatchEvent(l)),l=document.querySelectorAll(o+"__tm-link_active"),Array.prototype.forEach.call(l,function(e){e.classList.remove(o.slice(1)+"__tm-link_active")}),l=t.querySelector(o+"__menu, "+o+"__content"),t_submenublocks__processSubmenuHeight(t,l,"","close",!1))}function t_submenublocks__addArrow(e,t,n){e=document.getElementById("rec"+e);(e?e.querySelector(n):null).getAttribute("data-add-arrow")&&(t=Array.prototype.slice.call(t)).forEach(function(e){var t=document.createElement("div");t.classList.add(n.slice(1)+"__arrow"),e.appendChild(t);var o=e.closest(".tn-atom"),t="rgba(0, 0, 0, 0)"!==window.getComputedStyle(e).borderColor;o&&!t&&(e.style.borderColor="initial",e.style.border="none")})}function t_submenublocks__slideUp(e,t,o){var n,l,s;e&&(t=t||300,n=10*e.offsetHeight/t,l=e.offsetHeight,e.style.overflow="hidden",s=setInterval(function(){l-=n,e.style.height=l+"px",l<=0&&(e.style.height="",e.style.overflow="",e.style.display="none","function"==typeof o&&o(),clearInterval(s))},10))}function t_submenublocks__slideDown(e,t,o){var n,l,s,u,i;e&&(t=t||300,e.style.display="",n="none"===window.getComputedStyle(e).display?"block":window.getComputedStyle(e).display,e.style.display=n,l=e.offsetHeight,e.style.height="0",e.style.overflow="hidden",s=10*l/t,u=0,i=setInterval(function(){e.style.height=u+"px",l<=(u+=s)&&(e.style.height="",e.style.overflow="",e.style.display=n,"function"==typeof o&&o(),clearInterval(i))},10))}function t_submenublocks__removeEl(e){e&&e.parentElement&&e.parentElement.removeChild(e)}function t_submenublocks__getValueWithoutPadding(e,t){if(!e)return 0;var o=e.offsetWidth||parseInt(window.getComputedStyle(e).width,10),n=e.offsetHeight||parseInt(window.getComputedStyle(e).height,10);switch(t){case"width":return o-((e.style.paddingLeft||parseInt(window.getComputedStyle(e).paddingLeft,10))+(e.style.paddingLeft||parseInt(window.getComputedStyle(e).paddingRight,10)));case"height":return n-((e.style.paddingTop||parseInt(window.getComputedStyle(e).paddingTop,10))+(e.style.paddingBottom||parseInt(window.getComputedStyle(e).paddingBottom,10)))}}function t_submenublocks__setFullScreenMenu(e){t_submenublocks__getFullscreenSubmenuStyles("fullscreensubmenu-styles"),t_submenublocks__setFullscreenLeftSideSubmenu(e),(e=e.querySelector("div")).classList.add("t-submenu_fullscreen"),e.style.height=document.documentElement.clientHeight+"px";var t=t_submenublocks__createFullscreenSubmenuNav(e);e.insertAdjacentElement("afterbegin",t),t_submenublocks__setFullscreenSubmenuEvents(e)}function t_submenublocks__getFullscreenSubmenuStyles(e){var t;document.getElementById(e)||((t=document.createElement("link")).addEventListener("error",function(){t_onFuncLoad("t_fallback__reloadSRC",function(){t_fallback__reloadSRC(t)})}),t.href="https://static.tildacdn.com/css/tilda-submenublocks-1.0.min.css",t.id=e,t.rel="stylesheet",document.head.insertAdjacentElement("beforeend",t))}function t_submenublocks__openFullScreenSubmenu(e,t){var o=t.querySelector(".t-submenu_fullscreen__nav-title");o&&(o.textContent=e.textContent),t_submenublocks__updateBodyBg("open",t),t.style.transform="translateX(0)",t.setAttribute("data-cached-pos",window.pageYOffset.toString()),document.body.classList.contains("t-body_scroll-locked")||setTimeout(function(){document.body.classList.add("t-body_scroll-locked"),document.documentElement.classList.add("t-body_scroll-locked")},300)}function t_submenublocks__updateBodyBg(e,t){var o;/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&("close"===e?(o=document.body.getAttribute("data-cached-color"),document.body.style.backgroundColor=o||""):(o=getComputedStyle(t).backgroundColor)&&("rgba(0, 0, 0, 0)"!==(t=getComputedStyle(document.body).backgroundColor)&&document.body.setAttribute("data-cached-color",t),document.body.style.backgroundColor=o))}function t_submenublocks__setFullscreenLeftSideSubmenu(e){var t=e.getAttribute("data-tooltip-hook"),t=Array.prototype.slice.call(document.querySelectorAll('a[href*="'+t+'"]')).filter(function(e){e=e.closest(".r");return e&&"none"!==getComputedStyle(e).display}).every(function(e){return e.closest(".t450__left, .t451m__left")}),e=e.querySelector("div");t&&e&&e.classList.add("t-submenu_fullscreen_left")}function t_submenublocks__setFullscreenSubmenuEvents(e){t_submenublocks__updateFullScreenSubmenu(e);var t=e.querySelector(".t-submenu_fullscreen__nav-arrow");t&&t.addEventListener("click",t_submenublocks__closeFullscreenSubmenu);e=e.querySelectorAll(".t794__typo, .t966__menu-link, .t978__innermenu-link, .t978__menu-link:not(.t978__menu-link_hook)");Array.prototype.forEach.call(e,function(e){e.addEventListener("click",t_submenublocks__closeFullscreenSubmenu)}),window.addEventListener("orientationchange",function(){setTimeout(function(){Array.prototype.forEach.call(document.querySelectorAll(".t-submenu_fullscreen"),function(e){e.style.height=document.documentElement.clientHeight+"px"})},300)})}function t_submenublocks__updateFullScreenSubmenu(e){var t=e.querySelector(".t978__content");t&&(e.style.backgroundColor=getComputedStyle(t).backgroundColor,t_onFuncLoad("t978_addInnermenuEvents",function(){t978_addInnermenuEvents(e,"on")}))}function t_submenublocks__closeFullscreenSubmenu(e){var t,o=e.target.closest(".t-submenu_fullscreen");o&&(t=e.target.closest(".t-submenu_fullscreen__nav-arrow"),e=e.target.closest('a[href*="#"]'),(t||e)&&(t_submenublocks__updateBodyBg("close",o),o.style.transform="",document.body.classList.remove("t-body_scroll-locked"),document.documentElement.classList.remove("t-body_scroll-locked"),!t||(o=o.getAttribute("data-cached-pos"))&&window.scrollTo(0,parseInt(o,10))))}function t_submenublocks__createFullscreenSubmenuNav(e){var t=e.querySelector('[data-menu-item-number="1"], .t978__menu-link, .t966__menu-item'),o=t.querySelector(".t966__menu-item-title"),n=[];o&&(t=o,n=Array.prototype.slice.call(e.querySelectorAll(".t966__menu-item-desc")));var l=t.style.color,s=getComputedStyle(e).borderColor,o=getComputedStyle(e).border;"rgba(0, 0, 0, 0)"!==s&&-1===o.indexOf("none")||(s=""),e.style.border="none";o=s||l||"#000000",e=document.createElement("div");e.classList.add("t-submenu_fullscreen__nav"),e.style.borderBottom="2px solid "+o;s=document.createElement("p");s.classList.add("t-submenu_fullscreen__nav-title"),s.classList.add("t-name"),s.style.color=l||"#000000";var u=parseInt(t.style.fontSize,10);s.style.fontSize=1.2*u+"px",n.forEach(function(e){e.style.fontSize=.8*u+"px"});n=document.createElement("div");return n.classList.add("t-submenu_fullscreen__nav-arrow"),n.innerHTML='<svg class="t_submenu__close-icon" width="26px" height="26px" viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg">\n        <path d="M10.4142136,5 L11.8284271,6.41421356 L5.829,12.414 L23.4142136,12.4142136 L23.4142136,14.4142136 L5.829,14.414 L11.8284271,20.4142136 L10.4142136,21.8284271 L2,13.4142136 L10.4142136,5 Z" fill="'+o+'"></path>\n      </svg>',e.appendChild(n),e.appendChild(s),e}
